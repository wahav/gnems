<!doctype html>
<html lang="en">
    
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>GNEMS (Alpha 0.3)</title>
        <link rel="stylesheet" href="css/base.css">
        <link href="../resources/bootstrap/css/bootstrap.css" rel="stylesheet" media="screen" />
        <!--[if IE]>
            <script src="../../../assets/ie.js"></script>
        <![endif]-->
    </head>
    
    <body>
        <div id="gnems" class="container">
            <div class="panel" id="gnems_north">
                <span>GNEMS Prototype - Template</span>
            </div>
            <div class="row">
                <div class="col-6">
                    
                    <section id="fiches">
                        <header id="header">
                            <h1>Modeles de fiche</h1>
                            <input id="new-formTemplate-year" data-bind="enter: saveFormTemplate" placeholder="Annee" autofocus>
                            <input id="new-formTemplate-field" data-bind="enter: saveFormTemplate" placeholder="Matiere">
                            <input id="new-formTemplate-diploma" data-bind="enter: saveFormTemplate" placeholder="Diplome">
                            <input id="new-formTemplate-section" data-bind="enter: saveFormTemplate" placeholder="Section">
                            <input id="new-formTemplate-sequence" data-bind="enter: saveFormTemplate" placeholder="Sequence">
                            <input id="new-formTemplate-author" data-bind="enter: saveFormTemplate" placeholder="Auteur">
                        </header>
                        <section id="mainFormTemplate" data-bind="visible: isVisibleFormTemplate">
                            <ul id="formTemplate-list" data-role="listview" data-template="formTemplate-template" data-bind="source: formTemplates"></ul>
                        </section>
                        
                        
                    </section>
                </div>
                <div class="col-6">
                    <section id="ficheEdit" data-bind="visible: isFormTemplateEditSelected">
                        <div id="ficheEdit-info" data-role="listview" data-template="formTemplateFull-template" data-bind="source: formTemplates"></div>
                    </section>
                </div>
            </div>
        </div>
    
    
    <script type="text/template" id="formTemplate-template">
		<li data-bind="attr: { class: formTemplateItemClass }">
			<div class="view">            
                <span>Fiche : </span>
                <span data-bind="text: year, events: { dblclick: startEditFormTemplate } "></span><span> - </span>
                <span data-bind="text: diploma, events: { dblclick: startEditFormTemplate } "></span><span> - </span>
                <span data-bind="text: section, events: { dblclick: startEditFormTemplate } "></span><span> - </span>
                <span data-bind="text: sequence, events: { dblclick: startEditFormTemplate } "></span>
				<button class="editForm" data-bind="click: openFormTemplate, events: { change: isFormTemplateEditSelected }"></button>
                <button class="destroy" data-bind="click: destroyFormTemplate"></button>
			</div>
			<input class="edit" data-bind="value: year, events: { change: endEditFormTemplate, blur: endEditFormTemplate }, enter: endEditFormTemplate">
            <input class="edit" data-bind="value: diploma, events: { change: endEditFormTemplate, blur: endEditFormTemplate }, enter: endEditFormTemplate">
            <input class="edit" data-bind="value: section, events: { change: endEditFormTemplate, blur: endEditFormTemplate }, enter: endEditFormTemplate">
            <input class="edit" data-bind="value: sequence, events: { change: endEditFormTemplate, blur: endEditFormTemplate }, enter: endEditFormTemplate">
		</li>
	</script>
        
        <script type="text/template" id="formTemplateFull-template">
			<div class="view">
                <label data-bind="value: editSelected, text: year, events: { dblclick: startEditFormTemplate } "></label>
                <label data-bind="value: editSelected, text: diploma, events: { dblclick: startEditFormTemplate } "></label>
                <label data-bind="value: editSelected, text: section, events: { dblclick: startEditFormTemplate } "></label>
                <label data-bind="value: editSelected, text: sequence, events: { dblclick: startEditFormTemplate } "></label>
				<button class="editForm" data-bind="click: openFormTemplate"></button>
                <button class="destroy" data-bind="click: destroyFormTemplate"></button>
			</div>
	</script>
    
	<script src="js/base.js"></script>
	<script src="js/jquery.min.js"></script>
	<script src="js/lib/kendo.web.js"></script>
	<script src="js/lib/kendo.bindings.custom.js"></script>
	<script src="js/lib/kendo.data.localstoragedatasource.js"></script>
	<script src="js/app.js"></script>
</body>
</html>
